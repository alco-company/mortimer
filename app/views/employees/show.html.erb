<div 
  class="max-w-full lg:max-w-screen-2xl mx-auto sm:px-6 lg:px-8" 
  data-controller="tabs"  
  data-tabs-active-tab="border-indigo-500 text-indigo-600" 
  >
  <%= render_component "resource/show_header", 
      title: resource.name, 
      breadcrumbs: @breadcrumbs, 
      current: Current, 
      tabs: [ 
        {id: "info_tab", url: "#info", label: t('.info'), action: "click->tabs#change" },
        {id: "calendar_tab", url: edit_employee_calendar_url(resource,resource.calendar), label: t('.calendar'), action: "click->tabs#change" },
        {id: "tasks_tab", url: employee_tasks_url(resource), label: t('.tasks'), action: "click->tabs#change" },
        {id: "pupils_tab", url: employee_pupils_url(resource), label: t('.pupils'), action: "click->tabs#change" }
      ] do %>
    <div class="md:mt-7 justify-end flex">
      <div class="w-full">
        <%= form_with url: "", method: :get, data: { turbo_frame: resources_target, turbo_action: 'advance' } do |form| %>
          <%= search_field name: :q, value: params[:q], component_method: "search#keydownHandler" %>
        <% end %>
      </div>

      <div class="ml-4 mt-1 shrink-0">
        <%= link_to t("#{resource_class}.new_button"), new_stock_stock_location_url(resource), class: "button new-button inline-block select-none", data: { form_sleeve_target: "button", action: "click->extended-slideover#toggle", 'turbo-frame': 'form_slideover' } %>
      </div>
      <%# <button type="button" class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Share</button> %>
      
    </div>


  <% end %>
  <div id="info_tab" class="hidden py-4 px-4 " data-tabs-target="panel">

    <!-- This example requires Tailwind CSS v2.0+ -->
    <div class="bg-white shadow overflow-hidden sm:rounded-lg">
      <div class="px-4 py-5 sm:px-6">
        <h3 class="text-lg leading-6 font-medium text-gray-900"><%= t '.employee' %></h3>
        <p class="mt-1 max-w-2xl text-sm text-gray-500"><%= t '.employee.description' %></p>
      </div>
      <div class="border-t border-gray-200 px-4 py-5 sm:p-0">
        <dl class="sm:divide-y sm:divide-gray-200">
          <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
            <dt class="text-sm font-medium text-gray-500"><%= t '.name' %></dt>
            <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= resource.name %></dd>
          </div>
          <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
            <dt class="text-sm font-medium text-gray-500"><%= t '.tasks_count' %></dt>
            <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= resource.tasks.count %></dd>
          </div>
          <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
            <dt class="text-sm font-medium text-gray-500"><%= t '.created_at' %></dt>
            <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= display_time resource.created_at, Current.user %> </dd>
          </div>
          <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
            <dt class="text-sm font-medium text-gray-500"><%= t '.updated_at' %></dt>
            <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= display_time resource.updated_at, Current.user %> </dd>
          </div>
        </dl>
      </div>
    </div>
  </div>

  <div id="calendar_tab" class="hidden shadow overflow-hidden border-b border-gray-200 sm:rounded-lg" data-tabs-target="panel">
    <%= turbo_stream_from resource_form(resource.calendar)  %>
    <%= turbo_frame_tag resource_form(resource.calendar), loading: "lazy", src: edit_employee_calendar_url(resource,resource.calendar) do %>
      <span class="py-2 px2">
        <%= t('loading') %>
      </span>

    <% end %>

  </div>

  <div id="tasks_tab" class="hidden shadow overflow-hidden border-b border-gray-200 sm:rounded-lg" data-tabs-target="panel">
    <%= turbo_stream_from "employee_tasks"  %>
    <%= turbo_frame_tag "employee_tasks" do %>
      <!-- This example requires Tailwind CSS v2.0+ -->
      <div>
        <div class="flow-root mt-6 mx-4">
          <ul role="list" class="-my-5 divide-y divide-gray-200">
            <% resource.tasks do |task| %>
              <li class="py-4">
                <div class="flex items-center space-x-4">
                  <div class="flex-shrink-0">
                    <img class="h-8 w-8 rounded-full" src="https://images.unsplash.com/photo-1519345182560-3f2917c472ef?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
                  </div>
                  <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-900 truncate"><%= task.name %></p>
                    <p class="text-sm text-gray-500 truncate"></p>
                  </div>
                  <div>
                    <a href="#" class="inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50"> View </a>
                  </div>
                </div>
              </li>
            <% end %>
          </ul>
        </div>
        <div class="mt-6">
          <a href="#" class="w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"> View all </a>
        </div>
      </div>

    <% end %>
  </div>

  <div id="pupils_tab" class="hidden shadow overflow-hidden border-b border-gray-200 sm:rounded-lg" data-tabs-target="panel">
    <%= turbo_stream_from "pupils"  %>
    <%= turbo_frame_tag "pupils", loading: "lazy", src: employee_pupils_url(resource) do %>
      <span class="py-2 px2">
        <%= t('loading') %>
      </span>

    <% end %>

  </div>

</div>




